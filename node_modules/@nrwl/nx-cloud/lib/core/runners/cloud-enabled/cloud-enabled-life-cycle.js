const a0_0x5497=['cache-miss','remote-cache','find','../../../utilities/nx-imports','local-cache-hit','NX_CLOUD_UNLIMITED_OUTPUT','code','outputObfuscator','skipNxCache','local-cache','scheduleTask','serializeOverrides','join','push','scheduledTasks','__esModule','cacheStatus','../../../utilities/environment','runContext','cache','endTime','project','target','.cache','params','cleanUpHashDetails','indexOf','terminalOutput','Cannot\x20find\x20task\x20','TRUNCATED\x0a\x0a','forEach','readTerminalOutputFile','implicitDeps','cacheDirectory','updateStartedTask','collectTerminalOutput','hashDetails','path','tasks','length','getTerminalOutput','npm:','CloudEnabledLifeCycle','status','startTask','MAX_CHARACTERS_FAILED_TASK','../../../utilities/serializer-overrides','filter','statuses','toISOString','task','obfuscate','terminalOutputs','nodes','MAX_CHARACTERS_CACHED_TASK','hash','MAX_CHARACTERS_SUCCESSFUL_TASK','slice','startsWith','toString','cacheableOperations'];(function(_0x511aa2,_0x549716){const _0x13b82e=function(_0x5c8127){while(--_0x5c8127){_0x511aa2['push'](_0x511aa2['shift']());}};_0x13b82e(++_0x549716);}(a0_0x5497,0x1b9));const a0_0x13b8=function(_0x511aa2,_0x549716){_0x511aa2=_0x511aa2-0x0;let _0x13b82e=a0_0x5497[_0x511aa2];return _0x13b82e;};'use strict';Object['defineProperty'](exports,a0_0x13b8('0x1'),{'value':!![]});exports[a0_0x13b8('0x1c')]=void 0x0;const path=require('path');const path_1=require(a0_0x13b8('0x17'));const fs_1=require('fs');const environment_1=require(a0_0x13b8('0x3'));const serializer_overrides_1=require(a0_0x13b8('0x20'));const {workspaceRoot}=require(a0_0x13b8('0x32'));class CloudEnabledLifeCycle{constructor(_0x4cdf1e,_0x52416e,_0x5e6a15,_0x48141a,_0x4eedf1,_0x20a9ea,_0x13259f){this[a0_0x13b8('0x4')]=_0x4cdf1e;this[a0_0x13b8('0x13')]=_0x52416e;this[a0_0x13b8('0x37')]=_0x5e6a15;this[a0_0x13b8('0x15')]=_0x48141a;this[a0_0x13b8('0x2e')]=_0x4eedf1;this[a0_0x13b8('0x36')]=_0x20a9ea;this[a0_0x13b8('0x18')]=_0x13259f;}[a0_0x13b8('0x39')](_0x163a30){this['runContext'][a0_0x13b8('0x0')][a0_0x13b8('0x3c')](_0x163a30);}[a0_0x13b8('0x1e')](_0x51692a){this[a0_0x13b8('0x18')][a0_0x13b8('0x3c')]({'taskId':_0x51692a['id'],'startTime':new Date()[a0_0x13b8('0x23')](),'target':_0x51692a['target'][a0_0x13b8('0x8')],'projectName':_0x51692a[a0_0x13b8('0x8')][a0_0x13b8('0x7')],'hash':_0x51692a[a0_0x13b8('0x29')],'hashDetails':this['cleanUpHashDetails'](_0x51692a[a0_0x13b8('0x16')]),'params':(0x0,serializer_overrides_1[a0_0x13b8('0x3a')])(_0x51692a)});}['endTask'](_0x7490d1,_0x5a09cf){let _0x5c51e8;if(this[a0_0x13b8('0x4')][a0_0x13b8('0x22')][_0x7490d1[a0_0x13b8('0x29')]]){_0x5c51e8=this['runContext'][a0_0x13b8('0x22')][_0x7490d1[a0_0x13b8('0x29')]];}else{if(this[a0_0x13b8('0x2e')]['indexOf'](_0x7490d1['target'][a0_0x13b8('0x8')])>-0x1&&!this[a0_0x13b8('0x37')]){_0x5c51e8='local-cache-hit';}else{_0x5c51e8=a0_0x13b8('0x2f');}}this[a0_0x13b8('0x14')](_0x7490d1,_0x5a09cf,_0x5c51e8);}['endTasks'](_0x416610){for(let _0x533ea4 of _0x416610){let _0x5b3a79;const _0x16fdf2=_0x533ea4[a0_0x13b8('0x1d')]===a0_0x13b8('0x30');const _0x2bfba9=_0x533ea4[a0_0x13b8('0x1d')]===a0_0x13b8('0x5');const _0x51b699=_0x533ea4[a0_0x13b8('0x1d')]===a0_0x13b8('0x38')||_0x533ea4['status']==='local-cache-kept-existing'||_0x2bfba9;if(this[a0_0x13b8('0x4')][a0_0x13b8('0x22')][_0x533ea4[a0_0x13b8('0x24')]['hash']]){_0x5b3a79=this['runContext'][a0_0x13b8('0x22')][_0x533ea4[a0_0x13b8('0x24')][a0_0x13b8('0x29')]];}else if(_0x16fdf2){_0x5b3a79='remote-cache-hit';}else if(_0x51b699){_0x5b3a79=a0_0x13b8('0x33');}else{if(this['cacheableOperations'][a0_0x13b8('0xc')](_0x533ea4[a0_0x13b8('0x24')][a0_0x13b8('0x8')][a0_0x13b8('0x8')])>-0x1&&!this['skipNxCache']){_0x5b3a79='local-cache-hit';}else{_0x5b3a79=a0_0x13b8('0x2f');}}this[a0_0x13b8('0x14')](_0x533ea4['task'],_0x533ea4[a0_0x13b8('0x35')],_0x5b3a79);}}['endCommand'](){}['updateStartedTask'](_0xd77f5a,_0xf00d0a,_0x34b291){const _0x22aa8c=this['tasks'][a0_0x13b8('0x31')](_0x228aed=>_0x228aed['taskId']===_0xd77f5a['id']);if(!_0x22aa8c){throw new Error(a0_0x13b8('0xe')+_0xd77f5a['id']);}_0x22aa8c[a0_0x13b8('0x6')]=new Date()['toISOString']();_0x22aa8c['status']=_0xf00d0a;_0x22aa8c['params']=this['outputObfuscator'][a0_0x13b8('0x25')](_0x22aa8c[a0_0x13b8('0xa')]);_0x22aa8c[a0_0x13b8('0x2')]=_0x34b291;if(this['collectTerminalOutput']){_0x22aa8c[a0_0x13b8('0xd')]=this[a0_0x13b8('0x1a')](_0xd77f5a['hash'],_0x22aa8c[a0_0x13b8('0x2')],_0xf00d0a);}}[a0_0x13b8('0x1a')](_0x38c0d8,_0x3026aa,_0x14e538){let _0x190cd7;if(this[a0_0x13b8('0x13')]){if(this['cacheDirectory'][a0_0x13b8('0x2c')]('./')){_0x190cd7=(0x0,path_1[a0_0x13b8('0x3b')])(workspaceRoot,this[a0_0x13b8('0x13')]);}else{_0x190cd7=this[a0_0x13b8('0x13')];}}else{_0x190cd7=(0x0,path_1[a0_0x13b8('0x3b')])(workspaceRoot,'node_modules',a0_0x13b8('0x9'),'nx');}try{const _0x33c51e=this[a0_0x13b8('0x11')](_0x190cd7,_0x38c0d8);const _0x3ddf22=this[a0_0x13b8('0x36')][a0_0x13b8('0x25')](_0x33c51e);if(environment_1[a0_0x13b8('0x34')])return _0x3ddf22;const _0x367562=_0x3026aa==='cache-miss'?_0x14e538===0x0?CloudEnabledLifeCycle[a0_0x13b8('0x2a')]:CloudEnabledLifeCycle['MAX_CHARACTERS_FAILED_TASK']:CloudEnabledLifeCycle[a0_0x13b8('0x28')];return _0x3ddf22[a0_0x13b8('0x19')]>_0x367562?a0_0x13b8('0xf')+_0x3ddf22[a0_0x13b8('0x2b')](_0x3ddf22[a0_0x13b8('0x19')]-_0x367562):_0x3ddf22;}catch(_0x2209f7){return'';}}[a0_0x13b8('0xb')](_0x49915c){const _0x15746e={};Object['keys'](_0x49915c['nodes'])[a0_0x13b8('0x21')](_0x2fc48c=>!_0x2fc48c[a0_0x13b8('0x2c')](a0_0x13b8('0x1b')))[a0_0x13b8('0x10')](_0x15b0ca=>{_0x15746e[_0x15b0ca]=_0x49915c[a0_0x13b8('0x27')][_0x15b0ca];});return{'nodes':_0x15746e,'runtime':_0x49915c['runtime'],'implicitDeps':_0x49915c[a0_0x13b8('0x12')]};}[a0_0x13b8('0x11')](_0x57d09b,_0x350526){try{return(0x0,fs_1['readFileSync'])(path['join'](_0x57d09b,a0_0x13b8('0x26'),_0x350526))[a0_0x13b8('0x2d')]();}catch(_0x3b7000){try{return(0x0,fs_1['readFileSync'])(path[a0_0x13b8('0x3b')](_0x57d09b,_0x350526,'terminalOutput'))[a0_0x13b8('0x2d')]();}catch(_0xfa7096){return'';}}}}exports[a0_0x13b8('0x1c')]=CloudEnabledLifeCycle;CloudEnabledLifeCycle[a0_0x13b8('0x1f')]=0x30d40;CloudEnabledLifeCycle[a0_0x13b8('0x2a')]=0x4e20;CloudEnabledLifeCycle[a0_0x13b8('0x28')]=0x4e20;