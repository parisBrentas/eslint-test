const a5_0x4fd7=['completeRunGroup','response','next','axiosMultipleTries','then','note','defineProperty','mapRespToPerfEntry','createMetricRecorder','runGroup:\x20','post','../../../utilities/axios','VERBOSE_LOGGING','recordMetric','tasks','error','Completing\x20run\x20group\x20with\x20an\x20error','data','RUNNER_FAILURE_PERF_ENTRY','/nx-cloud/executions/complete-run-group','../../../utilities/nx-imports','Completed\x20run\x20group\x20with\x20an\x20error','dtePollTasks','value','axiosException','__awaiter','throw','runGroup','agentName','error:\x20','completeRunGroupWithError','done','/nx-cloud/executions/tasks','apply','DistributedAgentApi'];(function(_0x443f88,_0x4fd75c){const _0xa4237=function(_0xc4bbb2){while(--_0xc4bbb2){_0x443f88['push'](_0x443f88['shift']());}};_0xa4237(++_0x4fd75c);}(a5_0x4fd7,0x182));const a5_0xa423=function(_0x443f88,_0x4fd75c){_0x443f88=_0x443f88-0x0;let _0xa4237=a5_0x4fd7[_0x443f88];return _0xa4237;};'use strict';var __awaiter=this&&this[a5_0xa423('0x18')]||function(_0x41476d,_0x36c9ef,_0x5c066c,_0x38a934){function _0x386dbd(_0x34c65b){return _0x34c65b instanceof _0x5c066c?_0x34c65b:new _0x5c066c(function(_0x57b189){_0x57b189(_0x34c65b);});}return new(_0x5c066c||(_0x5c066c=Promise))(function(_0x339cbc,_0x54c15f){function _0x1caa00(_0x59a75a){try{_0x42f9f5(_0x38a934[a5_0xa423('0x1')](_0x59a75a));}catch(_0x4a646a){_0x54c15f(_0x4a646a);}}function _0x54b512(_0x3c37da){try{_0x42f9f5(_0x38a934[a5_0xa423('0x19')](_0x3c37da));}catch(_0x53ec4f){_0x54c15f(_0x53ec4f);}}function _0x42f9f5(_0x1683f2){_0x1683f2[a5_0xa423('0x1e')]?_0x339cbc(_0x1683f2['value']):_0x386dbd(_0x1683f2[a5_0xa423('0x16')])[a5_0xa423('0x3')](_0x1caa00,_0x54b512);}_0x42f9f5((_0x38a934=_0x38a934[a5_0xa423('0x20')](_0x41476d,_0x36c9ef||[]))['next']());});};Object[a5_0xa423('0x5')](exports,'__esModule',{'value':!![]});exports['DistributedAgentApi']=void 0x0;const axios_1=require(a5_0xa423('0xa'));const environment_1=require('../../../utilities/environment');const metric_logger_1=require('../../../utilities/metric-logger');const {output}=require(a5_0xa423('0x13'));class DistributedAgentApi{constructor(_0x10095b,_0x3e6ed5,_0x4f804b){this['runGroup']=_0x3e6ed5;this[a5_0xa423('0x1b')]=_0x4f804b;this['apiAxiosInstance']=(0x0,axios_1['createApiAxiosInstance'])(_0x10095b);}[a5_0xa423('0xd')](_0x58991c,_0x13186e,_0x5ce97b){var _0x5030ba;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x165cb9=(0x0,metric_logger_1['createMetricRecorder'])(a5_0xa423('0x15'));try{const _0x8a9aab=yield(0x0,axios_1[a5_0xa423('0x2')])(()=>this['apiAxiosInstance'][a5_0xa423('0x9')](a5_0xa423('0x1f'),{'runGroup':this[a5_0xa423('0x1a')],'agentName':this[a5_0xa423('0x1b')],'executionId':_0x58991c,'statusCode':_0x13186e,'completedTasks':_0x5ce97b}));_0x165cb9['recordMetric']((0x0,metric_logger_1[a5_0xa423('0x6')])(_0x8a9aab));return _0x8a9aab[a5_0xa423('0x10')];}catch(_0x4235ea){_0x165cb9[a5_0xa423('0xc')](((_0x5030ba=_0x4235ea===null||_0x4235ea===void 0x0?void 0x0:_0x4235ea[a5_0xa423('0x17')])===null||_0x5030ba===void 0x0?void 0x0:_0x5030ba[a5_0xa423('0x0')])?(0x0,metric_logger_1[a5_0xa423('0x6')])(_0x4235ea['axiosException'][a5_0xa423('0x0')]):metric_logger_1[a5_0xa423('0x11')]);throw _0x4235ea;}});}[a5_0xa423('0x1d')](_0x536e61){var _0x4f223f;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a5_0xa423('0xb')]){output['note']({'title':a5_0xa423('0xf'),'bodyLines':[a5_0xa423('0x8')+this['runGroup'],a5_0xa423('0x1c')+_0x536e61]});}const _0x264b6c=(0x0,metric_logger_1[a5_0xa423('0x7')])(a5_0xa423('0x22'));try{const _0x1d4d55=yield(0x0,axios_1[a5_0xa423('0x2')])(()=>this['apiAxiosInstance']['post'](a5_0xa423('0x12'),{'runGroup':this[a5_0xa423('0x1a')],'agentName':this[a5_0xa423('0x1b')],'criticalErrorMessage':_0x536e61}));if(environment_1[a5_0xa423('0xb')]){output[a5_0xa423('0x4')]({'title':a5_0xa423('0x14')});}_0x264b6c[a5_0xa423('0xc')]((0x0,metric_logger_1[a5_0xa423('0x6')])(_0x1d4d55));}catch(_0x45777d){_0x264b6c[a5_0xa423('0xc')](((_0x4f223f=_0x45777d===null||_0x45777d===void 0x0?void 0x0:_0x45777d[a5_0xa423('0x17')])===null||_0x4f223f===void 0x0?void 0x0:_0x4f223f['response'])?(0x0,metric_logger_1[a5_0xa423('0x6')])(_0x45777d[a5_0xa423('0x17')][a5_0xa423('0x0')]):metric_logger_1[a5_0xa423('0x11')]);console[a5_0xa423('0xe')](_0x45777d);}});}}exports[a5_0xa423('0x21')]=DistributedAgentApi;